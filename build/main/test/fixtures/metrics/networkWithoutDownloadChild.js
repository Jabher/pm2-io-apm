"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const metrics_1 = require("../../../src/features/metrics");
const metric = new metrics_1.default();
metric.init({ network: { traffic: { upload: true } } }, true);
const httpModule = require('http');
let timer;
const server = httpModule.createServer((req, res) => {
    res.writeHead(200);
    res.end('hey');
}).listen(3002, () => {
    timer = setInterval(function () {
        httpModule.get('http://localhost:' + server.address().port);
        httpModule.get('http://localhost:' + server.address().port + '/toto');
    }, 100);
});
process.on('SIGINT', function () {
    clearInterval(timer);
    server.close();
    metric.destroy();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0d29ya1dpdGhvdXREb3dubG9hZENoaWxkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vdGVzdC9maXh0dXJlcy9tZXRyaWNzL25ldHdvcmtXaXRob3V0RG93bmxvYWRDaGlsZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJEQUFrRDtBQUVsRCxNQUFNLE1BQU0sR0FBRyxJQUFJLGlCQUFNLEVBQUUsQ0FBQTtBQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLEVBQUMsT0FBTyxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxFQUFDLEVBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUV2RCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFFbEMsSUFBSSxLQUFLLENBQUE7QUFFVCxNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ2xELEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDbEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUNoQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRTtJQUNuQixLQUFLLEdBQUcsV0FBVyxDQUFDO1FBQ2xCLFVBQVUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQzNELFVBQVUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUN2RSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFDVCxDQUFDLENBQUMsQ0FBQTtBQUVGLE9BQU8sQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ25CLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNwQixNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDZCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7QUFDbEIsQ0FBQyxDQUFDLENBQUEifQ==